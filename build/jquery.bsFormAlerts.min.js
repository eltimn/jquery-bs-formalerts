/*! bsFormAlerts version: 0.1.3
*  2013-11-16
*  Author: Tim Nelson
*  Website: http://eltimn.github.com/jquery-bs-formalerts
*  MIT License http://www.opensource.org/licenses/mit-license.php
*/
(function(r,t,e){"use strict";function s(r){return"notice"===r?"info":"error"===r?"danger":r}function o(t){var e=r.grep(t,function(r){return"error"===r.priority}).length;if(e>0)return"error";var s=r.grep(t,function(r){return"warning"===r.priority}).length;if(s>0)return"warning";var o=r.grep(t,function(r){return"success"===r.priority}).length;return o>0?"success":"info"}var n=function(t,s){var o=this;this.element=t,this.options=r.extend({},r.fn.bsFormAlerts.defaults,s),r(e).on("set-alert-id-"+this.options.alertid,function(){var r=Array.prototype.slice.call(arguments,1);o.renderAlerts(r)}),r(e).on("clear-alert-id."+this.options.alertid,function(){o.clear()})};n.prototype={constructor:n,clear:function(){var t=r(this.element),e=this.formGroup(t);this.clearFormGroup(e,this.options),t.html("")},renderAlerts:function(t){var e=r(this.element);if(t.length>0){var n=this.formGroup(e),i=o(t);this.clearFormGroup(n,this.options),e.html("");var a=r("<ul/>");r.each(t,function(t,e){if(e.message&&e.message.length>0){var o=r("<li/>",{"class":"text-"+s(e.priority)}).html(e.message);a.append(o)}}),e.append(a);var c=s(i);"danger"===c&&(c="error"),n.addClass(this.options.css_prefx+c)}},formGroup:function(r){return r.closest(this.options.outer_query)},clearFormGroup:function(r){r.removeClass(this.options.css_prefx+"info"),r.removeClass(this.options.css_prefx+"warning"),r.removeClass(this.options.css_prefx+"error"),r.removeClass(this.options.css_prefx+"success")}};var i=r.fn.bsFormAlerts;r.fn.bsFormAlerts=function(t){return this.each(function(){var e=r(this),s=e.data("bsFormAlerts"),o="object"==typeof t&&t;s||e.data("bsFormAlerts",s=new n(this,o)),"string"==typeof t&&s[t]()})},r.fn.bsFormAlerts.Constructor=n,r.fn.bsFormAlerts.defaults={alertid:"bs-form-alert",outer_query:"div.form-group",css_prefx:"has-"},r.fn.bsFormAlerts.noConflict=function(){return r.fn.bsFormAlerts=i,this},r(e).ready(function(){r("[data-alertid]").each(function(){var t=r(this);t.bsFormAlerts(t.data())})})})(jQuery,window,document);