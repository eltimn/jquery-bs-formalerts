/*! bsFormAlerts version: 0.1.3
*  2013-11-16
*  Author: Tim Nelson
*  Website: http://eltimn.github.com/jquery-bs-formalerts
*  MIT License http://www.opensource.org/licenses/mit-license.php
*/
(function(r,e,t){"use strict";var n=function(e,n){function s(r){return"notice"===r?"info":"error"===r?"danger":r}function o(e){var t=r.grep(e,function(r){return"error"===r.priority}).length;if(t>0)return"error";var n=r.grep(e,function(r){return"warning"===r.priority}).length;if(n>0)return"warning";var s=r.grep(e,function(r){return"success"===r.priority}).length;return s>0?"success":"info"}function i(r){return r.closest(c.options.outer_query)}function a(r){r.removeClass(c.options.css_prefix+"info"),r.removeClass(c.options.css_prefix+"warning"),r.removeClass(c.options.css_prefix+"error"),r.removeClass(c.options.css_prefix+"success")}var c=this;c.element=e,c.options=r.extend({},r.fn.bsFormAlerts.defaults,n),r(t).on("set-alert-id-"+c.options.alertid,function(){var r=Array.prototype.slice.call(arguments,1);c.renderAlerts(r)}),r(t).on("clear-alert-id."+c.options.alertid,function(){c.clear()}),c.clear=function(){var e=r(this.element),t=i(e);a(t,c.options),e.html("")},c.renderAlerts=function(e){var t=r(this.element);if(e.length>0){var n=i(t),l=o(e);a(n,c.options),t.html("");var f=r("<ul/>");r.each(e,function(e,t){if(t.message&&t.message.length>0){var n=s(t.priority);"danger"===n&&(n=c.options.error_css);var o=r("<li/>",{"class":"text-"+n}).html(t.message);f.append(o)}}),t.append(f);var u=s(l);"danger"===u&&(u="error"),n.addClass(c.options.css_prefix+u)}}},s=r.fn.bsFormAlerts;r.fn.bsFormAlerts=function(e){return this.each(function(){var t=r(this),s=t.data("bsFormAlerts"),o="object"==typeof e&&e;s||t.data("bsFormAlerts",s=new n(this,o)),"string"==typeof e&&s[e]()})},r.fn.bsFormAlerts.Constructor=n,r.fn.bsFormAlerts.defaults={alertid:"bs-form-alert",outer_query:"div.form-group",css_prefix:"has-",error_css:"danger"},r.fn.bsFormAlerts.noConflict=function(){return r.fn.bsFormAlerts=s,this},r(t).ready(function(){r("[data-alertid]").each(function(){var e=r(this);e.bsFormAlerts(e.data())})})})(jQuery,window,document);